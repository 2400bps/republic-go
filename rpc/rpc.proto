syntax = "proto3";

package rpc;

// Peer services implement the functionality of the overlay network.
service Peer {
  
  // Ping the connection and swap MultiAddresses.
  rpc Ping (MultiAddress) returns (MultiAddress);

  // Get the connected Peers.
  rpc Peers (Nothing) returns (MultiAddresses);

  // Send order fragment to other node
  rpc SendOrderFragment(OrderFragment) returns (Nothing);
}

// OrderFragment messages contain the order fragment created by a trader and
// the routing information to distribute it to its destination.
message OrderFragment {
  MultiAddress to = 1;
}

// MultiAddress messages contain the public multiaddress of a Node in the
// overlay network.
message MultiAddress {
  string multi = 1;
}

// MultiAddresses messages contain the public multiaddress of multiple Nodes in
// the overlay network.
message MultiAddresses {
  repeated MultiAddress multis = 1;
}

// Nothing messages are empty.
message Nothing {}